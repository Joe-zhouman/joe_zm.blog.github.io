---
layout: blog
istop : true
book : true
title: 大型工程CFD仿真--经历,体会与感悟(一)
category: knowledge
tags: CFD fluent
background-image: CFD.jpg
date: 2019-07-17 19:07:46 + 0800

---
做了一次很复杂的工程问题的仿真。讲讲经历，谈谈体会。<!-- more -->


# 前言

## 问题简述

一个典型的工程热管理模型，由**内部热源（固体）**，**导热介质（流体）**，**散热组件（边界）** 组成。内部热源产生的热量通过自然对流传递到导热介质，导热介质形成流动，通过翅片将热量散发出去。这种结构的模型涵盖了工程中至少60%-80%的情形，因为：

1. 在电力高度发达的如今，电能是最常用的的能源。而有电就会有热源，典型的如焦耳热，（电池等的）化学反应热。

2. 自然对流永远是工程热管理的第一选择，因为最便宜，不用附加组件。

3. 翅片/肋片是扩展散热能力的常用选择，因为不用更改内部结构，只需在外部扩展散热结构，同时外部涉及到的主要也是自然对流。

而相应的，要做好这类问题的仿真，对应的要：

1. **了解热源的发热规律**：

    * `焦耳热`（如PCB），`反应热`（如电池）还是（能量转换的）`耗散热`（如电磁炮）？

    * `稳态`热源（如电饭煲）还是`瞬态`热源（如激光）？

    * `体`热源（如电池）还是`面`热源（如烤箱）？

    * `均匀`热源（如微波炉）还是`非均匀`热源（如PCB）？

2. **了解自然对流**：

    * `湍流`还是`层流`？

    * `重力`作用 [1]？

    * 材料`密度`与`温度`的关系 [1]？

3. **了解翅片的结构**：

    * 内部有无`流道`？流道形状特点如何？

    * `散热片`的结构要求如何？

    * 散热片的`表面换热系数`如何确定？`外加流场`还是`设定换热系数`？

求解一个这样的`热管理`问题，首先对这些方面有所了解，逐个解决。如果你主要接触`工程问题`的话，或许你也能从中找到一些同感。

[1]: 自然对流的机理为温度变化导致流体密度变化，在重力的影响下产生浮力，从而产生流动，故而必须考虑重力影响及流体密度随温度的变化。

## 漫话CFD

如何求解一个CFD问题？首先要知道什么是`CFD`。我常戏称`CFD`为 <font color=red> Color </font>
<font color=#008000>Ful</font> <font color=Blue>Drawing</font> ，对于很多人来说，CFD就是得到一张张花花绿绿的图，但除此之外呢？
我们常常又称CFD为`仿真`，又有何道理呢？

在我看来，CFD的`本质`是**求解`微分方程`**。

我们的世界由各式各样的`自然规律`所支配，而这些自然规律的数学表述绝大部分都是`微分方程`。一个物体，在一定的条件下，会怎么运动/变化？我们将这个物体的特性数据化，将条件数据化，代入微分方程，求出方程的解，再把解实体化为物体--这一过程就好像物体在真实世界里发生了变化一样，这就是`仿真`。（*其实有点像`解析几何`，不知列位看官意下如何。*）

这样一说，简单点将，CFD软件其实就是个`计算器`，不过算的是微分方程。
一般来说，我们将CFD分为3个部分：**前处理，计算，后处理**。用计算器来类比，就相当于计算器的**输入，计算，输出**。一个计算器要得到正确的结果，该怎么办？在我看来，就是要做到：

1. 输入要正确

2. 按计算器的要求输入

3. 计算器的计算程序值得信赖

对于绝大部分`商业CFD软件`来说，其计算程序都在黑盒里，第三点我们无法确保（*当然，既然选择了商业软件，那就相信它，不然就别用*），我们能做到的就是前两点。而这两点，其实都在于 **`前处理`** 之中。

>说到这里，又不得不吐槽，现在CFD商用软件的功能越来越强大，门槛越来越低，但其实会搞CFD的人并没有变多。有人讲CFD奉为神祇，有人对CFD不屑一顾。其实CFD的结果对不对，关键在人。CFD就是个工具。CFD软件的使用简单，单要用好，很难，需要大量的专业知识。OK，吐槽完毕。

总而言之，就是一句话：**成功的CFD，关键在于前处理** 。

而事实也是如此。以我的经验，前处理，计算，后处理所耗费的`人`的时间的比例为7：1：2。

其中种种细节，咱们结合本次仿真的经历，边聊边谈。