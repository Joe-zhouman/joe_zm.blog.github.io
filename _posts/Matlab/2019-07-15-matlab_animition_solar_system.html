---
layout: code
istop : true
book : true
title: Matlab-太阳系动画
category: code
tags: matlab animition lessen
code: true
background-image: Solar-System.jpg
---

<html>

<head>
  <title>Evernote Export</title>
  <basefont face="华文细黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600753 (zh-CN, DDL); Windows/6.1.1 (Win64);" />
  <meta name="content-class" content="yinxiang.markdown" />
  <style>
    body,
    td {
      font-family: 华文细黑;
      font-size: 16pt;
    }
  </style>
</head>

<body>
  <a name="1794" />

  <div><span>
      <div style="font-size: 14px; margin: 0; padding: 0; width: 100%;">
        <div style="line-height: 160%; box-sizing: content-box;">
          <ul
            style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
            <li style="line-height: 160%; box-sizing: content-box; position: relative;"><a
                style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">animition
                of solar system
              </a>
              <ul
                style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
                <li style="line-height: 160%; box-sizing: content-box; position: relative;"><a
                    style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">code
                  </a>
                  <ul
                    style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333; margin-top: 0; margin-bottom: 0;">
                    <li style="line-height: 160%; box-sizing: content-box; position: relative;"><a
                        style="line-height: 160%; box-sizing: content-box; text-decoration: underline; color: #5286bc;">output
                        file gif
                      </a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </div>
        <h1
          style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 41px; border-bottom: 3px double #999; color: #000; margin-top: 14px;">
          animition of solar system</h1>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">利用matlab生成太阳系运动的动画</p>
        <!-- more -->
        <h2
          style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">
          code</h2>
        <pre
          style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #034e35; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">clc,clear,close all
x0=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;y0=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;r0=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">80</span>;Lmin0=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;Lmax0=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;T0=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2160</span>;w0=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">pi</span>/T0;q0=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;
x1=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;y1=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;r1=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">40</span>;Lmin1=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">25</span>;Lmax1=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">30</span>;T1=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1080</span>;w1=<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">pi</span>/T1;q1=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;
x2=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;y2=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;r2=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">20</span>;Lmin2=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">8</span>;Lmax2=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">10</span>;T2=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">180</span>;w2=<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">pi</span>/T2;q2=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;
r3=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">10</span>;Lmin3=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">3</span>;Lmax3=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">5</span>;T3=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">30</span>;w3=<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">pi</span>/T3;q3=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;

hh=<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">figure</span>(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'numbertitle'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'off'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'name'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'Solar System by Joe 
zhouman'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'Color'</span>,[<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>]);
sun=line(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'color'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'r'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'marker'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'.'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'markersize'</span>,r0);
earth=line(x0,y0,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'color'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'k'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'marker'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'.'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'markersize'</span>,r1);
moon=line(x1,y1,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'color'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'m'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'marker'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'.'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'markersize'</span>,r2);
satellite=line(x2,y2,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'color'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'g'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'marker'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'.'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'markersize'</span>,r3);

axis off
title({<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'Solar System'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'Sun--Earth--Moon--Satellite'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'by Joe,zhouman'</span>}...
,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'fontname'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'Segoe 
Script'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'FontSize'</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">12</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'FontWeight'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'normal'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'Color'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'black'</span>);

text(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">-50</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">50</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'sun'</span>);
line(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">-55</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">50</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'color'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'r'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'marker'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'.'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'markersize'</span>,r0);
text(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">-50</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">40</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'earth'</span>);
line(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">-55</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">40</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'color'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'k'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'marker'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'.'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'markersize'</span>,r1);
text(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">-50</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">30</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'moon'</span>);
line(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">-55</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">30</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'color'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'m'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'marker'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'.'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'markersize'</span>,r2);
text(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">-50</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">20</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'satellite'</span>);
line(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">-55</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">20</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'color'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'g'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'marker'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'.'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'markersize'</span>,r3);

text(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">33</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">50</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'the orbit of the moon'</span>);
line([<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">27.5</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">32.5</span>],[<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">50</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">50</span>],<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'linestyle'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'-.'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'color'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'r'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'markersize'</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">8</span>);
text(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">33</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">40</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'the orbit of the satellite'</span>);
line([<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">27.5</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">32.5</span>],[<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">40</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">40</span>],<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'linestyle'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'--'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'color'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'b'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'markersize'</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">4</span>);
text(<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">33</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">30</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'the orbit of the earth'</span>);
line([<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">27.5</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">32.5</span>],[<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">30</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">30</span>],<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'linestyle'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">':'</span>);

s1=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>:<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">.01</span>:<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">2</span>*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">pi</span>;
line(Lmax1*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">cos</span>(s1),Lmin1*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">sin</span>(s1),<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'linestyle'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">':'</span>);

x0=Lmax0*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">cos</span>(q0);y0=Lmin0*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">sin</span>(q0);
x1=x0+Lmax1*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">cos</span>(q1);y1=y0+Lmin1*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">sin</span>(q1);
x2=x1+Lmax2*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">cos</span>(q2);y2=y1+Lmin2*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">sin</span>(q2);
x3=x2+Lmax3*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">cos</span>(q3);y3=y2+Lmin3*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">sin</span>(q3);

mlx=x2;mly=y2;
slx=x3;sly=y3;

moonline=line(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'xdata'</span>,mlx,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'ydata'</span>,mly,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'linestyle'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'-.'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'color'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'r'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'markersize'</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">8</span>);
satelliteline=line(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'xdata'</span>,slx,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'ydata'</span>,sly,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'linestyle'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'--'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'color'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'b'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'markersize'</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">4</span>);

axis([<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">-60</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">60</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">-60</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">60</span>]);

t=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;
TERM=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">4500</span>;

<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span> idx=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>:TERM
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> not(ishandle(hh))
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span>
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span>

    q0=t*w0;q1=t*w1;q2=t*w2;q3=t*w3;t=t+<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>;

    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> t&gt;=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">4500</span>
        t=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>;
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span>

    x0=Lmax0*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">cos</span>(q0);y0=Lmin0*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">sin</span>(q0);
    x1=x0+Lmax1*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">cos</span>(q1);y1=y0+Lmin1*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">sin</span>(q1);
    x2=x1+Lmax2*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">cos</span>(q2);y2=y1+Lmin2*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">sin</span>(q2);
    x3=x2+Lmax3*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">cos</span>(q3);y3=y2+Lmin3*<span style="color: #4ec9b0; line-height: 160%; box-sizing: content-box;">sin</span>(q3);

    mlx=[mlx x2];mly=[mly y2];
    slx=[slx x3];sly=[sly,y3];

    set(sun,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'xdata'</span>,x0,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'ydata'</span>,y0);
    set(earth,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'xdata'</span>,x1,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'ydata'</span>,y1);
    set(moon,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'xdata'</span>,x2,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'ydata'</span>,y2);
    set(satellite,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'xdata'</span>,x3,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'ydata'</span>,y3);
    set(moonline,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'xdata'</span>,mlx,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'ydata'</span>,mly);
    set(satelliteline,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'xdata'</span>,slx,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'ydata'</span>,sly);

    drawnow

    frame=getframe(hh);
    im{idx}=frame2im(frame); 

<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span>

filename = <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'solar_system_by_joe_zhouman.gif'</span>;

<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">for</span> idx=<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>:TERM

    [A,map]=rgb2ind(im{idx},<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">256</span>);
    
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">if</span> idx == <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">1</span>
        imwrite(A,map,filename,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'gif'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'LoopCount'</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'DelayTime'</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0.01</span>);
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">else</span>
        imwrite(A,map,filename,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'gif'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'WriteMode'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'append'</span>,<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">'DelayTime'</span>,<span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;">0.01</span>);
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span>

<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">end</span>
</code></pre>
        <h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">output file gif</h4>
        <p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img
            src="{{ site.url }}/style/matlab_animition_solar_system_files/solar_system_by_joe_zhouman.gif" type="image/gif"
            data-filename="solar_system_by_joe_zhouman.gif" /></p>
      </div>
      <center
        style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">
        %5Btoc%5D%0A%23%20%20animition%20of%20solar%20system%0A%E5%88%A9%E7%94%A8matlab%E7%94%9F%E6%88%90%E5%A4%AA%E9%98%B3%E7%B3%BB%E8%BF%90%E5%8A%A8%E7%9A%84%E5%8A%A8%E7%94%BB%0A%0A%23%23%20code%0A%60%60%60matlab%0Aclc%2Cclear%2Cclose%20all%0Ax0%3D0%3By0%3D0%3Br0%3D80%3BLmin0%3D0%3BLmax0%3D0%3BT0%3D2160%3Bw0%3D0*pi%2FT0%3Bq0%3D0%3B%0Ax1%3D0%3By1%3D0%3Br1%3D40%3BLmin1%3D25%3BLmax1%3D30%3BT1%3D1080%3Bw1%3Dpi%2FT1%3Bq1%3D0%3B%0Ax2%3D0%3By2%3D0%3Br2%3D20%3BLmin2%3D8%3BLmax2%3D10%3BT2%3D180%3Bw2%3Dpi%2FT2%3Bq2%3D0%3B%0Ar3%3D10%3BLmin3%3D3%3BLmax3%3D5%3BT3%3D30%3Bw3%3Dpi%2FT3%3Bq3%3D0%3B%0A%0Ahh%3Dfigure('numbertitle'%2C'off'%2C'name'%2C'Solar%20System%20by%20Joe%20%0Azhouman'%2C'Color'%2C%5B1%201%201%5D)%3B%0Asun%3Dline(0%2C0%2C'color'%2C'r'%2C'marker'%2C'.'%2C'markersize'%2Cr0)%3B%0Aearth%3Dline(x0%2Cy0%2C'color'%2C'k'%2C'marker'%2C'.'%2C'markersize'%2Cr1)%3B%0Amoon%3Dline(x1%2Cy1%2C'color'%2C'm'%2C'marker'%2C'.'%2C'markersize'%2Cr2)%3B%0Asatellite%3Dline(x2%2Cy2%2C'color'%2C'g'%2C'marker'%2C'.'%2C'markersize'%2Cr3)%3B%0A%0Aaxis%20off%0Atitle(%7B'Solar%20System'%2C'Sun--Earth--Moon--Satellite'%2C'by%20Joe%2Czhouman'%7D...%0A%2C'fontname'%2C'Segoe%20%0AScript'%2C'FontSize'%2C12%2C'FontWeight'%2C'normal'%2C'Color'%2C'black')%3B%0A%0Atext(-50%2C50%2C'sun')%3B%0Aline(-55%2C50%2C'color'%2C'r'%2C'marker'%2C'.'%2C'markersize'%2Cr0)%3B%0Atext(-50%2C40%2C'earth')%3B%0Aline(-55%2C40%2C'color'%2C'k'%2C'marker'%2C'.'%2C'markersize'%2Cr1)%3B%0Atext(-50%2C30%2C'moon')%3B%0Aline(-55%2C30%2C'color'%2C'm'%2C'marker'%2C'.'%2C'markersize'%2Cr2)%3B%0Atext(-50%2C20%2C'satellite')%3B%0Aline(-55%2C20%2C'color'%2C'g'%2C'marker'%2C'.'%2C'markersize'%2Cr3)%3B%0A%0Atext(33%2C50%2C'the%20orbit%20of%20the%20moon')%3B%0Aline(%5B27.5%2032.5%5D%2C%5B50%2050%5D%2C'linestyle'%2C'-.'%2C'color'%2C'r'%2C'markersize'%2C8)%3B%0Atext(33%2C40%2C'the%20orbit%20of%20the%20satellite')%3B%0Aline(%5B27.5%2032.5%5D%2C%5B40%2040%5D%2C'linestyle'%2C'--'%2C'color'%2C'b'%2C'markersize'%2C4)%3B%0Atext(33%2C30%2C'the%20orbit%20of%20the%20earth')%3B%0Aline(%5B27.5%2032.5%5D%2C%5B30%2030%5D%2C'linestyle'%2C'%3A')%3B%0A%0As1%3D0%3A.01%3A2*pi%3B%0Aline(Lmax1*cos(s1)%2CLmin1*sin(s1)%2C'linestyle'%2C'%3A')%3B%0A%0Ax0%3DLmax0*cos(q0)%3By0%3DLmin0*sin(q0)%3B%0Ax1%3Dx0%2BLmax1*cos(q1)%3By1%3Dy0%2BLmin1*sin(q1)%3B%0Ax2%3Dx1%2BLmax2*cos(q2)%3By2%3Dy1%2BLmin2*sin(q2)%3B%0Ax3%3Dx2%2BLmax3*cos(q3)%3By3%3Dy2%2BLmin3*sin(q3)%3B%0A%0Amlx%3Dx2%3Bmly%3Dy2%3B%0Aslx%3Dx3%3Bsly%3Dy3%3B%0A%0Amoonline%3Dline('xdata'%2Cmlx%2C'ydata'%2Cmly%2C'linestyle'%2C'-.'%2C'color'%2C'r'%2C'markersize'%2C8)%3B%0Asatelliteline%3Dline('xdata'%2Cslx%2C'ydata'%2Csly%2C'linestyle'%2C'--'%2C'color'%2C'b'%2C'markersize'%2C4)%3B%0A%0Aaxis(%5B-60%2C60%2C-60%2C60%5D)%3B%0A%0At%3D0%3B%0ATERM%3D4500%3B%0A%0Afor%20idx%3D1%3ATERM%0A%20%20%20%20if%20not(ishandle(hh))%0A%20%20%20%20%20%20%20%20return%0A%20%20%20%20end%0A%0A%20%20%20%20q0%3Dt*w0%3Bq1%3Dt*w1%3Bq2%3Dt*w2%3Bq3%3Dt*w3%3Bt%3Dt%2B1%3B%0A%0A%20%20%20%20if%20t%3E%3D4500%0A%20%20%20%20%20%20%20%20t%3D0%3B%0A%20%20%20%20end%0A%0A%20%20%20%20x0%3DLmax0*cos(q0)%3By0%3DLmin0*sin(q0)%3B%0A%20%20%20%20x1%3Dx0%2BLmax1*cos(q1)%3By1%3Dy0%2BLmin1*sin(q1)%3B%0A%20%20%20%20x2%3Dx1%2BLmax2*cos(q2)%3By2%3Dy1%2BLmin2*sin(q2)%3B%0A%20%20%20%20x3%3Dx2%2BLmax3*cos(q3)%3By3%3Dy2%2BLmin3*sin(q3)%3B%0A%0A%20%20%20%20mlx%3D%5Bmlx%20x2%5D%3Bmly%3D%5Bmly%20y2%5D%3B%0A%20%20%20%20slx%3D%5Bslx%20x3%5D%3Bsly%3D%5Bsly%2Cy3%5D%3B%0A%0A%20%20%20%20set(sun%2C'xdata'%2Cx0%2C'ydata'%2Cy0)%3B%0A%20%20%20%20set(earth%2C'xdata'%2Cx1%2C'ydata'%2Cy1)%3B%0A%20%20%20%20set(moon%2C'xdata'%2Cx2%2C'ydata'%2Cy2)%3B%0A%20%20%20%20set(satellite%2C'xdata'%2Cx3%2C'ydata'%2Cy3)%3B%0A%20%20%20%20set(moonline%2C'xdata'%2Cmlx%2C'ydata'%2Cmly)%3B%0A%20%20%20%20set(satelliteline%2C'xdata'%2Cslx%2C'ydata'%2Csly)%3B%0A%0A%20%20%20%20drawnow%0A%0A%20%20%20%20frame%3Dgetframe(hh)%3B%0A%20%20%20%20im%7Bidx%7D%3Dframe2im(frame)%3B%20%0A%0Aend%0A%0Afilename%20%3D%20'solar_system_by_joe_zhouman.gif'%3B%0A%0Afor%20idx%3D1%3ATERM%0A%0A%20%20%20%20%5BA%2Cmap%5D%3Drgb2ind(im%7Bidx%7D%2C256)%3B%0A%20%20%20%20%0A%20%20%20%20if%20idx%20%3D%3D%201%0A%20%20%20%20%20%20%20%20imwrite(A%2Cmap%2Cfilename%2C'gif'%2C'LoopCount'%2C0%2C'DelayTime'%2C0.01)%3B%0A%20%20%20%20else%0A%20%20%20%20%20%20%20%20imwrite(A%2Cmap%2Cfilename%2C'gif'%2C'WriteMode'%2C'append'%2C'DelayTime'%2C0.01)%3B%0A%20%20%20%20end%0A%0Aend%0A%60%60%60%0A%23%23%23%23%20output%20file%20gif%0A!%5B010ae4cb2dfbf2082bd7896d82eac368.gif%5D(en-resource%3A%2F%2Fdatabase%2F1795%3A1)%0A
      </center>
    </span>
  </div>
</body>

</html> 